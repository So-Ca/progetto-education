{"version":3,"file":"js/maind92b5780e96cf9e20616.js","mappings":"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","sources":["webpack://my-webpack-project/./src/js/utils.js","webpack://my-webpack-project/./src/js/index.js"],"sourcesContent":["function setFont(element, subjects) {\r\n  if (subjects && subjects.includes(\"Horror\")) {\r\n    element.style.fontFamily = \"Bloodthirsty\";\r\n  }\r\n  if (subjects && subjects.includes(\"fantasy\")) {\r\n    element.style.fontFamily = \"Alamak\";\r\n  }\r\n  if (subjects && (subjects.includes(\"crime\") || subjects.includes(\"Giallo\"))) {\r\n    element.style.fontFamily = \"Label\";\r\n  }\r\n  if (subjects && (subjects.includes(\"Fantascienza\") || subjects.includes(\"Scienza\"))) {\r\n    element.style.fontFamily = \"Squid\";\r\n  }\r\n  if (subjects && (subjects.includes(\"Art\") || subjects.includes(\"Arte\"))) {\r\n    element.style.fontFamily = \"Riesling\";\r\n  }\r\n  if (subjects && (subjects.includes(\"Novel\") || subjects.includes(\"Romanzo\"))) {\r\n    element.style.fontFamily = \"Road\";\r\n  }\r\n}\r\n\r\nfunction clearBookList() {\r\n  const bookList = document.getElementById(\"booklist\");\r\n  while (bookList.firstChild) {\r\n    bookList.removeChild(bookList.firstChild);\r\n  }\r\n}\r\n\r\nfunction clearDescription() {\r\n  const description = document.getElementById(\"book-description\");\r\n  while (description.firstChild) {\r\n    description.removeChild(description.firstChild);\r\n  }\r\n}\r\n\r\nfunction createErrMex(parent) {\r\n  const p = document.createElement(\"p\");\r\n  const err = document.createElement(\"div\");\r\n  const searchBar = document.getElementById(\"search-bar\").value;\r\n  p.innerHTML = `No result found for: \"${searchBar}\". <br>  \r\n    Insert a valid book title or valid category. <br>\r\n    Make sure you didn't use capital letters. <br>`;\r\n  p.style.color = \"rgb(128, 14, 14)\";\r\n  err.style.border = \"3px solid red\";\r\n  err.style.borderRadius = \"50px\";\r\n  err.style.backgroundColor = \"rgb(252, 239, 239)\";\r\n  parent.appendChild(err);\r\n  err.appendChild(p);\r\n}\r\n\r\nexport {setFont, clearBookList, clearDescription, createErrMex}","import {setFont, clearBookList, clearDescription, createErrMex} from \"./utils.js\";\nimport \"../style/general.css\";\nimport \"../style/font.css\";\nimport \"../style/queries.css\";\n\ndocument.getElementById(\"search-bar\").addEventListener(\"keydown\", function(e){\n  if(e.key === \"Enter\") {\n    searchBooks();\n  }\n});\ndocument.getElementById(\"search\").addEventListener(\"click\", function(){\n    searchBooks();\n});\n\nfunction searchBooks(){\n  const searchBar = document.getElementById(\"search-bar\").value;\n  const url = `https://openlibrary.org/subjects/${searchBar}.json`;\n  const bookList = document.getElementById(\"booklist\");\n\n  if (!searchBar) {\n    clearBookList();\n    clearDescription();\n    return;\n  }\n\n  fetch(url)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(\"Network not response\");\n    }\n    return response.json();\n  })\n  .then(data => {\n    clearBookList();\n    clearDescription();\n    data.works.forEach(work => {\n      const li = document.createElement(\"li\");\n      const btn = document.createElement(\"button\");\n      const title = document.createTextNode(work.title);\n      const authors = document.createTextNode(\n        ` - ${work.authors.map(author => author.name).join(\" , \")}`\n      );\n      btn.classList.add(\"desc-btn\");\n      btn.innerText = \"Description\";\n      li.appendChild(title);\n      li.appendChild(authors);\n      li.appendChild(btn);\n      li.addEventListener(\"click\", () => {\n        bookDescription(work.key);\n      });\n      bookList.appendChild(li);\n    });\n\n    if (data.works.length === 0) {\n      createErrMex(bookList, searchBar);\n    }\n  })\n  .catch(error => {\n    console.error(\"Error: \", error);\n    clearBookList();\n    clearDescription();\n    createErrMex(bookList, error.message);\n  });\n}\n\nfunction bookDescription(key) {\n  const url = `https://openlibrary.org${key}.json`;\n\n  fetch(url)\n  .then( response => {\n    if(!response.ok){\n      throw new Error(\"Network not response\");\n    } return response.json()\n  })\n  .then(data => {\n    const description = document.getElementById(\"book-description\");\n\n    while(description.firstChild) {\n      description.removeChild(description.firstChild)\n    }\n\n    const p = document.createElement(\"p\");\n    const h2 = document.createElement(\"h2\");\n    h2.innerHTML = `${data.title} <br> Summary:`;\n    h2.style.textShadow = \"-1px 0 #FE8816, 0 1px #ffffff, 1px 0 #ffffff, 0 -1px #FE8816\";\n    setFont(h2, data.subjects);\n    description.appendChild(h2);\n    \n    if(data.description && data.description.value) {\n      p.textContent = JSON.stringify(data.description.value) || \"No description available.\";\n    } else {\n      p.textContent = JSON.stringify(data.description) || \"No description available.\";\n    }\n\n    description.appendChild(p);\n  })\n}"],"names":["clearBookList","bookList","document","getElementById","firstChild","removeChild","clearDescription","description","createErrMex","parent","p","createElement","err","searchBar","value","innerHTML","concat","style","color","border","borderRadius","backgroundColor","appendChild","searchBooks","url","fetch","then","response","ok","Error","json","data","works","forEach","work","li","btn","title","createTextNode","authors","map","author","name","join","classList","add","innerText","addEventListener","key","element","subjects","h2","textShadow","includes","fontFamily","textContent","JSON","stringify","bookDescription","length","error","console","message","e"],"sourceRoot":""}