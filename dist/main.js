(()=>{function e(){for(var e=document.getElementById("booklist");e.firstChild;)e.removeChild(e.firstChild)}function t(){for(var e=document.getElementById("book-description");e.firstChild;)e.removeChild(e.firstChild)}function n(e){var t=document.createElement("p"),n=document.createElement("div"),o=document.getElementById("search-bar").value;t.innerHTML='No result found for: "'.concat(o,"\". <br>  \n    Insert a valid book title or valid category. <br>\n    Make sure you didn't use capital letters. <br>"),t.style.color="rgb(128, 14, 14)",n.style.border="3px solid red",n.style.borderRadius="50px",n.style.backgroundColor="rgb(252, 239, 239)",e.appendChild(n),n.appendChild(t)}document.getElementById("search-bar").addEventListener("keydown",(function(o){"Enter"===o.key&&function(){var o=document.getElementById("search-bar").value,r="https://openlibrary.org/subjects/".concat(o,".json"),i=document.getElementById("booklist");if(!o)return e(),void t();fetch(r).then((function(e){if(!e.ok)throw new Error("Network not response");return e.json()})).then((function(o){e(),t(),o.works.forEach((function(e){var t=document.createElement("li"),n=document.createElement("button"),o=document.createTextNode(e.title),r=document.createTextNode(" - ".concat(e.authors.map((function(e){return e.name})).join(" , ")));n.classList.add("desc-btn"),n.innerText="Description",t.appendChild(o),t.appendChild(r),t.appendChild(n),t.addEventListener("click",(function(){!function(e){var t="https://openlibrary.org".concat(e,".json");fetch(t).then((function(e){if(!e.ok)throw new Error("Network not response");return e.json()})).then((function(e){for(var t=document.getElementById("book-description");t.firstChild;)t.removeChild(t.firstChild);var n,o,r=document.createElement("p"),i=document.createElement("h2");i.innerHTML="".concat(e.title," <br> Summary:"),i.style.textShadow="-1px 0 #FE8816, 0 1px #ffffff, 1px 0 #ffffff, 0 -1px #FE8816",n=i,(o=e.subjects)&&o.includes("Horror")&&(n.style.fontFamily="Bloodthirsty"),o&&o.includes("fantasy")&&(n.style.fontFamily="Alamak"),o&&(o.includes("crime")||o.includes("Giallo"))&&(n.style.fontFamily="Label"),o&&(o.includes("Fantascienza")||o.includes("Scienza"))&&(n.style.fontFamily="Squid"),o&&(o.includes("Art")||o.includes("Arte"))&&(n.style.fontFamily="Riesling"),o&&(o.includes("Novel")||o.includes("Romanzo"))&&(n.style.fontFamily="Road"),t.appendChild(i),e.description&&e.description.value?r.textContent=JSON.stringify(e.description.value)||"No description available.":r.textContent=JSON.stringify(e.description)||"No description available.",t.appendChild(r)}))}(e.key)})),i.appendChild(t)})),0===o.works.length&&n(i)})).catch((function(o){console.error("Error: ",o),e(),t(),n(i,o.message)}))}()}))})();